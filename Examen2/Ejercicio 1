/*Ejercicio1*/

CREATE OR REPLACE FUNCTION FN_EMPLEADOS_20181004394
RETURN SYS_REFCURSOR
IS
  CDATOS SYS_REFCURSOR;
BEGIN
  OPEN CDATOS FOR SELECT ID_EMPLOYEE, SALARY FROM EMPLOYEES WHERE ID_BOFFICE=3;
  
  RETURN CDATOS;
END;

DECLARE
  DATOS_EMPLEADO SYS_REFCURSOR;
  ID_EMPLEADO EMPLOYEES.ID_EMPLOYEE%TYPE;
  SALARIO EMPLOYEES.SALARY%TYPE;
BEGIN
  DATOS_EMPLEADO:=FN_EMPLEADOS_20181004394;
  
  LOOP
    FETCH DATOS_EMPLEADO INTO ID_EMPLEADO, SALARIO;
    EXIT WHEN DATOS_EMPLEADO%NOTFOUND;
    DBMS_OUTPUT.PUT_LINE('EL ID DEL EMPLEADO ES:'||ID_EMPLEADO);
    DBMS_OUTPUT.PUT_LINE('EL SALARIO DEL EMPLEADO ES:'||SALARIO);
  END LOOP;
END;
SET SERVEROUTPUT ON;


